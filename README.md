# ğŸ“‘ Smart Bookmark Cleaner (AI ä¹¦ç­¾æ•´ç†åŠ©æ‰‹)

[English Version](https://www.google.com/search?q=%23smart-bookmark-cleaner) | [ä¸­æ–‡ç‰ˆæœ¬](https://www.google.com/search?q=%23ai-%E4%B9%A6%E7%AD%BE%E6%95%B4%E7%90%86%E5%8A%A9%E6%89%8B)

-----

## AI ä¹¦ç­¾æ•´ç†åŠ©æ‰‹

**Smart Bookmark Cleaner** æ˜¯ä¸€ä¸ªåŸºäº Node.js çš„å¼ºå¤§å‘½ä»¤è¡Œå·¥å…·ï¼Œæ—¨åœ¨è§£å†³â€œæ•°å­—å›¤ç§¯â€é—®é¢˜ã€‚å®ƒä¸ä»…èƒ½æ£€æµ‹ä¹¦ç­¾çš„æœ‰æ•ˆæ€§ï¼Œè¿˜èƒ½åˆ©ç”¨ AI å¤§æ¨¡å‹ï¼ˆLLMï¼‰æ ¹æ®ç½‘é¡µå†…å®¹è‡ªåŠ¨é‡æ–°å½’ç±»ä½ çš„ä¹¦ç­¾ï¼Œè®©æ··ä¹±çš„æ”¶è—å¤¹ç„•ç„¶ä¸€æ–°ã€‚

### âœ¨ æ ¸å¿ƒåŠŸèƒ½

  * **ğŸ” æ·±åº¦é“¾æ¥å¥åº·æ£€æµ‹**ï¼š
      * è¯†åˆ« HTTP 404ã€DNS è§£æé”™è¯¯ã€è¶…æ—¶ç­‰å¤±æ•ˆé“¾æ¥ã€‚
      * **æ™ºèƒ½è¯†åˆ«â€œè½¯ 404â€ (Soft 404)**ï¼šé€šè¿‡å…³é”®è¯æ£€æµ‹ï¼ˆå¦‚ "domain for sale", "parked free"ï¼‰ï¼Œè¯†åˆ«é‚£äº›è™½ç„¶è¿”å› 200 çŠ¶æ€ç ä½†å®é™…å·²å˜æˆå¹¿å‘Šé¡µæˆ–åŸŸåå”®å–é¡µçš„åƒåœ¾é“¾æ¥ã€‚
  * **ğŸ¤– AI æ™ºèƒ½åˆ†ç±»**ï¼š
      * è°ƒç”¨å¤§æ¨¡å‹ APIï¼ˆå…¼å®¹ OpenAI/ç«å±±å¼•æ“ç­‰æ¥å£ï¼‰ï¼Œæ ¹æ®ç½‘é¡µæ ‡é¢˜ã€URL å’Œ**åŸå§‹ç›®å½•è·¯å¾„**ï¼Œæ™ºèƒ½æ¨æ–­ä¹¦ç­¾çš„æœ€ä½³åˆ†ç±»ã€‚
      * æ”¯æŒç”Ÿæˆå¤šçº§ç›®å½•ç»“æ„ï¼ˆå¦‚ `æŠ€æœ¯/å‰ç«¯/Vue`ï¼‰ã€‚
  * **ğŸ“‚ ç›®å½•ç»“æ„ä¿ç•™**ï¼š
      * é‡‡ç”¨é€’å½’ç®—æ³•ï¼Œå®Œç¾é‡å»ºåµŒå¥—çš„æ–‡ä»¶å¤¹ç»“æ„ã€‚
      * å¤±æ•ˆé“¾æ¥ä¸ä¼šè¢«ç›´æ¥åˆ é™¤ï¼Œè€Œæ˜¯è¢«å½’æ¡£åˆ° `ğŸ—‘ï¸ å¤±æ•ˆå½’æ¡£` ç›®å½•ä¸‹ï¼Œä¿ç•™åŸè·¯å¾„ä¿¡æ¯ï¼Œé˜²æ­¢è¯¯åˆ ã€‚
  * **â¯ï¸ æ–­ç‚¹ç»­ä¼  & è¿›åº¦ä¿å­˜**ï¼š
      * æ”¯æŒ `Ctrl + C` éšæ—¶ä¸­æ–­ï¼Œè„šæœ¬ä¼šè‡ªåŠ¨ä¿å­˜å½“å‰è¿›åº¦ã€‚
      * å†æ¬¡è¿è¡Œæ—¶ï¼Œä¼šè‡ªåŠ¨æ£€æµ‹ä¸Šæ¬¡çš„è¿›åº¦æ–‡ä»¶å¹¶è¯¢é—®æ˜¯å¦ç»§ç»­ï¼Œæ— éœ€ä»å¤´å¼€å§‹ã€‚
      * ç½‘ç»œè¶…æ—¶æˆ– AI æŠ¥é”™ä¼šè‡ªåŠ¨é‡è¯•ï¼Œä¸¥é‡é”™è¯¯æ—¶æ”¯æŒäººå·¥å¹²é¢„ã€‚
  * **ğŸš€ é«˜å¹¶å‘å¤„ç†**ï¼š
      * ä½¿ç”¨ `p-limit` æ§åˆ¶å¹¶å‘è¯·æ±‚æ•°ï¼Œæ—¢ä¿è¯é€Ÿåº¦åˆé˜²æ­¢è¢«ç›®æ ‡ç½‘ç«™å°é”ã€‚

### ğŸ› ï¸ ç¯å¢ƒè¦æ±‚

  * Node.js (å»ºè®® v14.0 æˆ–æ›´é«˜ç‰ˆæœ¬)
  * npm æˆ– yarn

### ğŸš€ å¿«é€Ÿå¼€å§‹

#### 1\. å®‰è£…ä¾èµ–

ä¸‹è½½æˆ–å…‹éš†æœ¬é¡¹ç›®åï¼Œåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹è¿è¡Œï¼š

```bash
npm install
```

#### 2\. å¯¼å‡ºä¹¦ç­¾

1.  åœ¨ Chrome æµè§ˆå™¨ä¸­æ‰“å¼€ä¹¦ç­¾ç®¡ç†å™¨ (`chrome://bookmarks/`)ã€‚
2.  ç‚¹å‡»å³ä¸Šè§’èœå• -\> **å¯¼å‡ºä¹¦ç­¾**ã€‚
3.  å°†å¯¼å‡ºçš„æ–‡ä»¶é‡å‘½åä¸º `bookmarks.html`ï¼Œå¹¶æ”¾å…¥æœ¬é¡¹ç›®æ ¹ç›®å½•ã€‚

#### 3\. é…ç½®å‚æ•° (é‡è¦)

æ‰“å¼€ `bookmark_manager.js` æ–‡ä»¶ï¼Œæ ¹æ®ä½ çš„éœ€æ±‚ä¿®æ”¹é¡¶éƒ¨çš„é…ç½®åŒºï¼š

```javascript
// --- é…ç½®åŒº ---
const API_KEY = "YOUR_API_KEY"; // å¡«å…¥ä½ çš„ AI API Key
const MODEL_ID = "doubao-seed-1-6-lite-251015"; // æ¨¡å‹ ID
const API_URL = "https://ark.cn-beijing.volces.com/api/v3/chat/completions"; // API æ¥å£åœ°å€

const CONCURRENT_LIMIT = 5; // å¹¶å‘æ•° (å»ºè®® 5-20)
const TIMEOUT_MS = 15000;   // è¯·æ±‚è¶…æ—¶æ—¶é—´
```

> **æ³¨æ„**ï¼šæœ¬é¡¹ç›®é»˜è®¤é€‚é… OpenAI æ ¼å¼çš„æ¥å£ï¼ˆå¦‚ç«å±±å¼•æ“/è±†åŒ…ã€DeepSeekã€ChatGPT ç­‰ï¼‰ã€‚

#### 4\. è¿è¡Œè„šæœ¬

```bash
node bookmark_manager.js
```

#### 5\. äº¤äº’æ“ä½œ

  * è„šæœ¬å¯åŠ¨åä¼šè¯»å– `bookmarks.html`ã€‚
  * å¦‚æœæ£€æµ‹åˆ°ä¸Šæ¬¡æœªå®Œæˆçš„è¿›åº¦ï¼Œä¼šè¯¢é—®æ˜¯å¦**æ¢å¤è¿›åº¦**ã€‚
  * è¯¢é—®æ˜¯å¦å¼€å¯ **AI æ™ºèƒ½åˆ†ç±»**ï¼ˆè¾“å…¥ `y` å¼€å¯ï¼Œ`n` ä»…æ¸…ç†æ­»é“¾ï¼‰ã€‚
  * è¿è¡Œç»“æŸåï¼Œä¼šç”Ÿæˆ `bookmarks_new.html`ã€‚

#### 6\. å¯¼å…¥æ–°ä¹¦ç­¾

1.  ä¸ºäº†å®‰å…¨èµ·è§ï¼Œå»ºè®®å…ˆåœ¨ Chrome ä¸­æ–°å»ºä¸€ä¸ªç”¨æˆ·é…ç½®è¿›è¡Œæµ‹è¯•ã€‚
2.  è¿›å…¥ä¹¦ç­¾ç®¡ç†å™¨ -\> **å¯¼å…¥ä¹¦ç­¾**ã€‚
3.  é€‰æ‹©ç”Ÿæˆçš„ `bookmarks_new.html` æ–‡ä»¶ã€‚

### ğŸ“„ è¾“å‡ºæ–‡ä»¶è¯´æ˜

  * `bookmarks_report.json`: åŒ…å«æ‰€æœ‰ä¹¦ç­¾æ£€æµ‹çŠ¶æ€ã€AI åˆ†ç±»ç»“æœçš„è¯¦ç»†æ•°æ®æŠ¥å‘Šï¼ˆä¹Ÿæ˜¯æ–­ç‚¹ç»­ä¼ çš„ä¾æ®ï¼‰ã€‚
  * `bookmarks_new.html`: æ¸…ç†å¹¶é‡ç»„åçš„æœ€ç»ˆæ–‡ä»¶ï¼Œç¬¦åˆ Netscape Bookmark æ ‡å‡†æ ¼å¼ã€‚

### âš ï¸ å…è´£å£°æ˜

  * æœ¬å·¥å…·ä¼šå‘ç›®æ ‡ç½‘ç«™å‘é€è¯·æ±‚ä»¥æ£€æµ‹è¿é€šæ€§ï¼Œè¯·åˆç†è®¾ç½®å¹¶å‘æ•°ï¼Œé¿å…å¯¹ç›®æ ‡ç½‘ç«™é€ æˆå‹åŠ›ã€‚
  * è™½ç„¶è„šæœ¬åŒ…å«å¤±æ•ˆå½’æ¡£åŠŸèƒ½ï¼Œä½†åœ¨åˆ é™¤æ—§ä¹¦ç­¾å‰ï¼Œ**è¯·åŠ¡å¿…å¤‡ä»½åŸå§‹ä¹¦ç­¾æ–‡ä»¶**ã€‚
  * AI åˆ†ç±»ç»“æœä»…ä¾›å‚è€ƒï¼Œå‡†ç¡®åº¦å–å†³äºæ‰€ä½¿ç”¨çš„æ¨¡å‹èƒ½åŠ›ã€‚

-----

## Smart Bookmark Cleaner

**Smart Bookmark Cleaner** is a powerful Node.js command-line tool designed to solve the problem of "digital hoarding." It not only detects the validity of bookmarks but also uses AI (LLM) to automatically recategorize your messy favorites based on their content.

### âœ¨ Key Features

  * **ğŸ” Advanced Link Health Check**:
      * Detects dead links including HTTP 404, DNS errors, and timeouts.
      * **"Soft 404" Detection**: Identifies spam pages (e.g., "domain for sale", "parked free") that return a 200 status code but contain no useful content.
  * **ğŸ¤– AI Categorization**:
      * Utilizes LLM APIs (compatible with OpenAI/Volcengine) to categorize bookmarks based on Title, URL, and **Original Folder Path**.
      * Supports generating deep, multi-level folder structures (e.g., `Tech/Frontend/Vue`).
  * **ğŸ“‚ Structure Preservation**:
      * Uses a recursive algorithm to rebuild nested folder structures.
      * Dead links are **not deleted** but moved to a `ğŸ—‘ï¸ Archived (Dead)` folder, preserving their original path info for future reference.
  * **â¯ï¸ Resumable & Safe Interruption**:
      * Press `Ctrl + C` at any time to safely pause and save progress.
      * Automatically detects previous progress upon restart, allowing you to resume where you left off.
      * Includes auto-retry for network timeouts and manual intervention for critical API errors.
  * **ğŸš€ High Concurrency**:
      * Uses `p-limit` to manage concurrent requests, ensuring speed while avoiding IP bans.

### ğŸ› ï¸ Prerequisites

  * Node.js (v14.0 or higher recommended)
  * npm or yarn

### ğŸš€ Quick Start

#### 1\. Install Dependencies

Clone the repository and run the following command in the root directory:

```bash
npm install
```

#### 2\. Export Bookmarks

1.  Open the Bookmark Manager in Chrome (`chrome://bookmarks/`).
2.  Click the menu icon -\> **Export Bookmarks**.
3.  Rename the exported file to `bookmarks.html` and place it in the project root directory.

#### 3\. Configuration

Open `bookmark_manager.js` and edit the configuration section at the top:

```javascript
// --- Configuration ---
const API_KEY = "YOUR_API_KEY"; // Your AI API Key
const MODEL_ID = "doubao-seed-1-6-lite-251015"; // Model ID
const API_URL = "https://ark.cn-beijing.volces.com/api/v3/chat/completions"; // API Endpoint

const CONCURRENT_LIMIT = 5; // Concurrency limit (5-20 recommended)
const TIMEOUT_MS = 15000;   // Request timeout in ms
```

> **Note**: This tool supports any OpenAI-compatible API format.

#### 4\. Run the Script

```bash
node bookmark_manager.js
```

#### 5\. Interaction

  * The script reads `bookmarks.html`.
  * It checks for previous progress and asks if you want to **Resume**.
  * It asks if you want to enable **AI Categorization** (`y` for yes, `n` for clean-up only).
  * Upon completion, `bookmarks_new.html` is generated.

#### 6\. Import Bookmarks

1.  Go to Chrome Bookmark Manager -\> **Import Bookmarks**.
2.  Select the generated `bookmarks_new.html`.

### ğŸ“„ Output Files

  * `bookmarks_report.json`: A detailed JSON report containing the status and category of every bookmark. This file is also used for the resume functionality.
  * `bookmarks_new.html`: The final cleaned and reorganized file, ready to be imported into any browser supporting the Netscape Bookmark format.

### âš ï¸ Disclaimer

  * Please back up your original bookmarks before deleting anything.
  * Use a reasonable concurrency limit to avoid being blocked by websites.
  * AI categorization accuracy depends on the model used.

-----

### ğŸ“ License


ISC / MIT (Choose your license)

